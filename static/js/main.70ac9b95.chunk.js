(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],[,,,,function(e,a,t){e.exports={assets:"ColorAssets_assets__2oB8F",color:"ColorAssets_color__paa9T",filled:"ColorAssets_filled__1wip-",label:"ColorAssets_label__paDWs"}},,,,function(e,a,t){e.exports={wrapper:"ColorsSelect_wrapper__3yY5W",colors:"ColorsSelect_colors__3JuPs",line:"ColorsSelect_line__1I7yi",clear:"ColorsSelect_clear__ucyca",active:"ColorsSelect_active__2PYBB"}},function(e,a,t){e.exports={label:"SchemaParamsForm_label__KG0gA",title:"SchemaParamsForm_title__3izXE",note:"SchemaParamsForm_note__2Q9OM",content:"SchemaParamsForm_content__1BImH",buttons:"SchemaParamsForm_buttons__3TTiP",button:"SchemaParamsForm_button__3tjCH",incorrect:"SchemaParamsForm_incorrect__2sJFp",fadeOut:"SchemaParamsForm_fadeOut__GoHEU"}},,,,,,,,,,,,function(e,a,t){e.exports={wrapper:"InitialPage_wrapper__33038",content:"InitialPage_content__3jBPy",btns:"InitialPage_btns__VaJfc",activeLink:"InitialPage_activeLink__1P31R"}},,function(e,a,t){e.exports={content:"LoadSchema_content__3iJZK",title:"LoadSchema_title__1ypVD",buttons:"LoadSchema_buttons__1fc_A"}},function(e,a,t){e.exports={wrapper:"Field_wrapper__3ySYT",cell:"Field_cell__2bLNU",borderedCell:"Field_borderedCell__2glhB",borderedRow:"Field_borderedRow__2pnzT"}},,,function(e,a,t){e.exports={title:"NewSchema_title__23NKQ"}},,,,,,,,function(e,a,t){e.exports={wrapper:"SchemaItem_wrapper__30Ltc",active:"SchemaItem_active__3yVGt"}},function(e,a,t){e.exports={wrapper:"AllColors_wrapper__vqBuf",color:"AllColors_color__eXMxW"}},function(e,a,t){e.exports={wrapper:"FieldWrapper_wrapper__3nkDZ",inner:"FieldWrapper_inner__2etgK"}},function(e,a,t){e.exports={wrapper:"Controls_wrapper__13os5",buttons:"Controls_buttons__2dw9s"}},,,,,,,function(e,a,t){e.exports={wrapper:"SchemasList_wrapper__1WJmO"}},function(e,a,t){e.exports={button:"Button_button__3UQR5"}},function(e,a,t){e.exports={input:"TextInput_input__3oe-i"}},function(e,a,t){e.exports={wrapper:"EditorPage_wrapper__FNApc"}},function(e,a,t){e.exports=t.p+"static/media/click.184a1546.mp3"},function(e,a,t){e.exports={button:"ButtonPrimary_button__Fom4B"}},function(e,a,t){e.exports=t(63)},,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),c=t.n(r),o=t(25),s=t(6),i=t(11),u=t(43),m=t(44),h=t(41),d=t(13),v=t(22),C=t(1),E={cells:[],name:null,width:null,height:null,colors:[],currentColor:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_INITIAL_PARAMS":return Object(C.a)(Object(C.a)({},e),{},{width:n.width,height:n.height,name:n.name,colors:n.colorsAsset});case"DRAW_COLOR":return Object(C.a)(Object(C.a)({},e),{},{cells:Object(C.a)(Object(C.a)({},e.cells),{},Object(v.a)({},n,e.currentColor))});case"ERASE_COLOR":var l=Object(C.a)({},e.cells);return delete l[n],Object(C.a)(Object(C.a)({},e),{},{cells:l});case"SAVE_SCHEMA":return e;case"LOAD_SCHEMA":return Object(C.a)(Object(C.a)({},e),{},{cells:n.cells,name:n.name,width:n.width,height:n.height,colors:n.colors});case"CHECK_CURRENT_COLOR":return Object(C.a)(Object(C.a)({},e),{},{currentColor:"#"+n});case"CLEAR_PARAMS":return Object(C.a)(Object(C.a)({},e),{},{width:null,height:null,cells:[],colors:[],name:null,currentColor:null});default:return e}},b={allSchemas:[],selectedSchema:null,newSchemaSaved:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"GET_ALL_SCHEMAS":return Object(C.a)(Object(C.a)({},e),{},{allSchemas:n});case"SELECT_POSITION":return Object(C.a)(Object(C.a)({},e),{},{selectedSchema:n});case"SAVE_SCHEMA":return Object(C.a)(Object(C.a)({},e),{},{newSchemaSaved:n,selectedSchema:null});case"LOAD_SCHEMA":return Object(C.a)(Object(C.a)({},e),{},{newSchemaSaved:null,selectedSchema:null});case"RENAME_SCHEMA":case"DELETE_SCHEMA":return Object(C.a)(Object(C.a)({},e),{},{allSchemas:n});case"CLEAR_PARAMS":return Object(C.a)(Object(C.a)({},e),{},{selectedSchema:null,newSchemaSaved:null});default:return e}},S=Object(d.a)(),_=(t(61),t(3)),F=t(16),g=t(21),A=t.n(g),O=t(17),N=t(18),w=t(7),j=t(20),y=t(19),k=t(23),D=t.n(k),B=t(45),M=t.n(B),L=t(35),R=t.n(L),I=(t(62),function(e){var a=e.newName,t=e.handleChange;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("input",{value:a.value,onChange:t})))}),x=function(e){var a=e.name,t=e.handleSelectPosition,n=e.selectedSchema,r=e.newName,c=e.rename,o=e.handleChange;return l.a.createElement("div",{className:[R.a.wrapper,n===a?R.a.active:""].join(" "),onClick:function(){return!c&&t(a)}},l.a.createElement("div",null,c&&a===n?l.a.createElement(I,{newName:r,handleChange:o}):a))},P=Object(s.c)((function(e){return{selectedSchema:e.service.selectedSchema}}),(function(e){return{handleSelectPosition:function(a){!function(e){return function(a){a({type:"SELECT_POSITION",payload:e})}}(a)(e)}}}))(x),H=function(e){var a=e.allSchemas,t=e.rename,n=e.name,r=e.handleChange,c=a.map((function(e){return l.a.createElement(P,{key:e,name:e,newName:n,rename:t,handleChange:r})}));return l.a.createElement("div",{className:M.a.wrapper},c)},T=t(46),J=t.n(T),W=function(e){var a=e.children,t=e.className,n=e.onClick;return l.a.createElement("button",{onClick:n,className:[J.a.button,t||""].join(" ")},a)},Y=function(e){var a=e.allSchemas,t=e.handleLoad,n=e.handleRename,r=e.handleChange,c=e.handleCancel,o=e.handleSubmit,s=e.handleDelete,i=e.rename,u=e.name;return l.a.createElement("div",{className:D.a.wrapper},l.a.createElement("h3",{className:D.a.title},"Load Schema"),l.a.createElement("div",{className:D.a.content},l.a.createElement(H,{allSchemas:a,rename:i,name:u,handleChange:r}),!i&&l.a.createElement("div",{className:D.a.buttons},l.a.createElement(W,{onClick:t},"Load"),l.a.createElement(W,{onClick:n},"Rename"),l.a.createElement(W,{onClick:s},"Delete")),!!i&&l.a.createElement("div",{className:D.a.buttons},l.a.createElement(W,{onClick:o},"Success"),l.a.createElement(W,{onClick:c},"Cancel"))))},U=t(30),X=function(e){return function(a){var t=JSON.parse(localStorage.getItem("schemas"))||{};t[e.name]=e,localStorage.setItem("schemas",JSON.stringify(t)),a({type:"SAVE_SCHEMA",payload:e.name})}},z=function(e){return function(a){a({type:"LOAD_SCHEMA",payload:(JSON.parse(localStorage.getItem("schemas"))||{})[e]})}},q=function(e){return function(a){a({type:"CHECK_CURRENT_COLOR",payload:e})}},K=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;Object(O.a)(this,t);var l=(n=a.call(this,e)).props,r=l.selectedSchema;return(0,l.getAllSchemas)(),n.state={rename:!1,name:{value:r,note:""}},n.handleLoad=n.handleLoad.bind(Object(w.a)(n)),n.handleRename=n.handleRename.bind(Object(w.a)(n)),n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.handleCancel=n.handleCancel.bind(Object(w.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(w.a)(n)),n.handleDelete=n.handleDelete.bind(Object(w.a)(n)),n}return Object(N.a)(t,[{key:"handleLoad",value:function(){var e=this.props,a=e.selectedSchema,t=e.history;a&&t.push("/editor/".concat(a))}},{key:"handleRename",value:function(e){var a=this.props.selectedSchema;a&&this.setState({rename:!0,name:{value:a}})}},{key:"handleChange",value:function(e){this.setState({name:{value:e.target.value,note:""}})}},{key:"handleCancel",value:function(){this.setState({rename:!1,name:{value:"",note:""}})}},{key:"handleSubmit",value:function(){var e=this.state.name,a=this.props,t=a.selectedSchema,n=a.renameSchema,l=!0;e.value.length?e.value.length<=1||e.value.length>20?(this.setState({name:{value:e.value,note:"Incorrect format"}}),l=!1):e.value.match(/^[a-zA-Z][a-zA-Z0-9-_.]/)||(this.setState({name:{value:e.value,note:"Incorrect format"}}),l=!1):(this.setState({name:{value:e.value,note:"Requirement field"}}),l=!1),l&&(this.setState({rename:null}),n(t,e.value))}},{key:"handleDelete",value:function(){var e=this.props,a=e.selectedSchema;(0,e.deleteSchema)(a)}},{key:"render",value:function(){var e=this.props,a=e.allSchemas,t=e.selectedSchema,n=this.state,r=n.rename,c=n.name;return l.a.createElement(Y,{allSchemas:a,selectedSchema:t,handleLoad:this.handleLoad,handleRename:this.handleRename,handleChange:this.handleChange,handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,handleDelete:this.handleDelete,rename:r,name:c})}}]),t}(n.Component),V={getAllSchemas:function(){return function(e){var a=JSON.parse(localStorage.getItem("schemas"))||{};e({type:"GET_ALL_SCHEMAS",payload:Object.keys(a)})}},loadSchema:z,renameSchema:function(e,a){return function(t){var n=JSON.parse(localStorage.getItem("schemas"))||{},l=Object(C.a)(Object(C.a)({},n[e]),{},{cells:Object(C.a)({},n[e].cells),colors:Object(U.a)(n[e].colors),name:a});n[a]=l,delete n[e],localStorage.setItem("schemas",JSON.stringify(n)),t({type:"RENAME_SCHEMA",payload:Object.keys(n)})}},deleteSchema:function(e){return function(a){var t=JSON.parse(localStorage.getItem("schemas"))||{};delete t[e],localStorage.setItem("schemas",JSON.stringify(t)),a({type:"DELETE_SCHEMA",payload:Object.keys(t)})}}},Z=Object(i.compose)(_.f,Object(s.c)((function(e,a){return{allSchemas:e.service.allSchemas,selectedSchema:e.service.selectedSchema,history:a.history}}),V))(K),G=t(27),Q=t.n(G),$=t(9),ee=t.n($),ae=t(47),te=t.n(ae),ne=function(e){var a=e.placeholder,t=e.value,n=e.onChange,r=e.disabled;return l.a.createElement("input",{type:"text",className:te.a.input,placeholder:a,value:t,onChange:n,disabled:r})},le=t(4),re=t.n(le),ce=function(e){var a=e.colorsAsset,t=e.removeColor;return l.a.createElement("div",{className:re.a.wrapper},l.a.createElement("div",{className:re.a.label,id:"colors"},"Assets:"),l.a.createElement("div",{className:re.a.assets,onClick:t},l.a.createElement("div",null,l.a.createElement("div",{className:[re.a.color,re.a.filled].join(" ")}),l.a.createElement("div",{className:[re.a.color,a[0]?re.a.filled:""].join(" "),"data-colorasset":a[0]?a[0]:"",style:{backgroundColor:"".concat(a[0]?"#"+a[0]:"")}}),l.a.createElement("div",{className:[re.a.color,a[1]?re.a.filled:""].join(" "),"data-colorasset":a[1]?a[1]:"",style:{backgroundColor:"".concat(a[1]?"#"+a[1]:"")}}),l.a.createElement("div",{className:[re.a.color,a[2]?re.a.filled:""].join(" "),"data-colorasset":a[2]?a[2]:"",style:{backgroundColor:"".concat(a[2]?"#"+a[2]:"")}}),l.a.createElement("div",{className:[re.a.color,a[3]?re.a.filled:""].join(" "),"data-colorasset":a[3]?a[3]:"",style:{backgroundColor:"".concat(a[3]?"#"+a[3]:"")}})),l.a.createElement("div",null,l.a.createElement("div",{className:[re.a.color,a[4]?re.a.filled:""].join(" "),"data-colorasset":a[4]?a[4]:"",style:{backgroundColor:"".concat(a[4]?"#"+a[4]:"")}}),l.a.createElement("div",{className:[re.a.color,a[5]?re.a.filled:""].join(" "),"data-colorasset":a[5]?a[5]:"",style:{backgroundColor:"".concat(a[5]?"#"+a[5]:"")}}),l.a.createElement("div",{className:[re.a.color,a[6]?re.a.filled:""].join(" "),"data-colorasset":a[6]?a[6]:"",style:{backgroundColor:"".concat(a[6]?"#"+a[6]:"")}}),l.a.createElement("div",{className:[re.a.color,a[7]?re.a.filled:""].join(" "),"data-colorasset":a[7]?a[7]:"",style:{backgroundColor:"".concat(a[7]?"#"+a[7]:"")}}),l.a.createElement("div",{className:[re.a.color,a[8]?re.a.filled:""].join(" "),"data-colorasset":a[8]?a[8]:"",style:{backgroundColor:"".concat(a[8]?"#"+a[8]:"")}}))))},oe=t(36),se=t.n(oe),ie=function(e){var a=e.colorsArr,t=e.setColor,n=a.map((function(e,a){return l.a.createElement("div",{key:a,"data-color":e,className:se.a.color,style:{backgroundColor:"#".concat(e)}})}));return l.a.createElement("div",{className:se.a.wrapper,onClick:t},n)},ue=function(e){var a=e.colors,t=e.setColor,n=e.colorsAsset,r=e.removeColor,c=e.name,o=e.width,s=e.height,i=e.onHandleChange,u=e.handleSubmit;return l.a.createElement("form",{onSubmit:u},l.a.createElement("div",{className:ee.a.content},l.a.createElement("div",{className:ee.a.inputs},l.a.createElement("label",{className:ee.a.label},l.a.createElement("div",{className:ee.a.title},l.a.createElement("div",null,"Name:"),l.a.createElement("div",{className:ee.a.note},c.note)),l.a.createElement(ne,{placeholder:"A...z",value:c.value,onChange:function(e){return i("name",e)}})),l.a.createElement("label",{className:ee.a.label},l.a.createElement("div",{className:ee.a.title},l.a.createElement("div",null,"Width:"),l.a.createElement("div",{className:ee.a.note},o.note)),l.a.createElement(ne,{placeholder:"min: 100 max: 200",value:o.value,onChange:function(e){return i("width",e)}})),l.a.createElement("label",{className:ee.a.label},l.a.createElement("div",{className:ee.a.title},l.a.createElement("div",null,"Height:"),l.a.createElement("div",{className:ee.a.note},s.note)),l.a.createElement(ne,{placeholder:"min: 50 max: 100",value:s.value,onChange:function(e){return i("height",e)}}))),l.a.createElement("div",{className:ee.a.assets},l.a.createElement(ce,{colorsAsset:n,removeColor:r})),l.a.createElement("div",{className:ee.a.buttons},l.a.createElement(W,{className:ee.a.button},"Create"))),l.a.createElement(ie,{colorsArr:a,setColor:t}))},me=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(O.a)(this,t),(n=a.call(this,e)).state={name:{value:"",note:""},width:{value:"",note:""},height:{value:"",note:""},colorsAsset:[]},n.colors=["CD5C5C","F08080","FA8072","E9967A","FFA07A","DC143C","FF0000","B22222","8B0000","FFC0CB","FFB6C1","FF69B4","FF1493","C71585","DB7093","FFA07A","FF7F50","FF6347","FF4500","FF8C00","FFA500","FFD700","FFFF00","FFFFE0","FFFACD","FAFAD2","FFEFD5","FFE4B5","FFDAB9","EEE8AA","F0E68C","BDB76B","E6E6FA","D8BFD8","DDA0DD","EE82EE","DA70D6","FF00FF","FF00FF","BA55D3","9370DB","8A2BE2","9400D3","9932CC","8B008B","800080","4B0082","6A5ACD","483D8B","FFF8DC","FFEBCD","FFE4C4","FFDEAD","F5DEB3","DEB887","D2B48C","BC8F8F","F4A460","DAA520","B8860B","CD853F","D2691E","8B4513","A0522D","A52A2A","800000","000000","808080","C0C0C0","ADFF2F","7FFF00","7CFC00","00FF00","32CD32","98FB98","90EE90","00FA9A","00FF7F","3CB371","2E8B57","228B22","008000","006400","9ACD32","6B8E23","808000","556B2F","66CDAA","8FBC8F","20B2AA","008B8B","008080","00FFFF","00FFFF","E0FFFF","AFEEEE","7FFFD4","40E0D0","48D1CC","00CED1","5F9EA0","4682B4","B0C4DE","B0E0E6","ADD8E6","87CEEB","87CEFA","00BFFF","1E90FF","6495ED","7B68EE","4169E1","0000FF","0000CD","00008B","000080","191970","DCDCDC","D3D3D3","C0C0C0","A9A9A9","808080","696969","778899","708090","2F4F4F","000000"],n.setColor=n.setColor.bind(Object(w.a)(n)),n.removeColor=n.removeColor.bind(Object(w.a)(n)),n.onHanleChange=n.onHanleChange.bind(Object(w.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(w.a)(n)),n}return Object(N.a)(t,[{key:"setColor",value:function(e){var a=e.target.closest("div[data-color]");if(a){var t=a.getAttribute("data-color"),n=this.state.colorsAsset;n.length>=9||this.setState({colorsAsset:[].concat(Object(U.a)(n),[t])})}}},{key:"removeColor",value:function(e){var a=e.target.closest("div[data-colorasset]");if(a){var t=a.getAttribute("data-colorasset");if(t){var n=this.state.colorsAsset,l=n.findIndex((function(e){return e===t}));n.splice(l,1),this.setState({colorsAsset:n})}}}},{key:"onHanleChange",value:function(e,a){var t=a.target.value;this.setState(Object(v.a)({},e,{value:t,note:""}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.props.saveSchema,t=this.state,n=t.colorsAsset,l=t.width,r=t.height,c=t.name,o=!0;if(c.value.length?c.value.length<=1||c.value.length>20?(this.setState({name:{value:c.value,note:"Incorrect format"}}),o=!1):c.value.match(/^[a-zA-Z][a-zA-Z0-9-_.]/)||(this.setState({name:{value:c.value,note:"Incorrect format"}}),o=!1):(this.setState({name:{value:c.value,note:"Requirement field"}}),o=!1),l.value.length?isNaN(parseInt(l.value))?(this.setState({width:{value:l.value,note:"Incorrect Format"}}),o=!1):l.value>200?(this.setState({width:{value:l.value,note:"max: 200"}}),o=!1):l.value<100&&(this.setState({width:{value:l.value,note:"min: 100"}}),o=!1):(this.setState({width:{value:l.value,note:"Requirement field"}}),o=!1),r.value.length?isNaN(parseInt(r.value))?(this.setState({height:{value:r.value,note:"Incorrect Format"}}),o=!1):r.value>100?(this.setState({height:{value:r.value,note:"max: 200"}}),o=!1):r.value<50&&(this.setState({height:{value:r.value,note:"min: 100"}}),o=!1):(this.setState({height:{value:r.value,note:"Requirement field"}}),o=!1),n.length<9){var s=document.querySelector("#colors");s.classList.add("".concat(ee.a.incorrect)),setTimeout((function(){s.classList.remove("".concat(ee.a.incorrect))}),1e3),o=!1}o&&a({colors:n,cells:{},width:l.value,height:r.value,name:c.value})}},{key:"render",value:function(){var e=this.state,a=e.colorsAsset,t=e.name,n=e.width,r=e.height;return l.a.createElement(ue,{colors:this.colors,colorsAsset:a,name:t,width:n,height:r,onHandleChange:this.onHanleChange,handleSubmit:this.handleSubmit,removeColor:this.removeColor,setColor:this.setColor})}}]),t}(n.Component),he={saveSchema:X},de=Object(s.c)(null,he)(me),ve=function(){return l.a.createElement("div",{className:Q.a.wrapper},l.a.createElement("h3",{className:Q.a.title},"New Schema"),l.a.createElement("div",{className:Q.a.content},l.a.createElement("div",{className:Q.a.form},l.a.createElement(de,null))))},Ce=function(e){var a=e.saved;return l.a.createElement("div",{className:A.a.wrapper},l.a.createElement("div",{className:A.a.content},l.a.createElement("div",{className:A.a.btns},l.a.createElement("button",{className:A.a.btn},l.a.createElement(F.b,{to:"/load",activeClassName:A.a.activeLink},"Load")),l.a.createElement("button",{className:A.a.btn},l.a.createElement(F.b,{to:"/new",activeClassName:A.a.activeLink},"New"))),l.a.createElement(_.b,{path:"/new",render:function(){return a?l.a.createElement(_.a,{to:"/editor/".concat(a)}):l.a.createElement(ve,null)},exact:!0}),l.a.createElement(_.b,{path:"/load",render:function(){return l.a.createElement(Z,null)},exact:!0})))},Ee=Object(s.c)((function(e){return{saved:e.service.newSchemaSaved}}),null)(Ce),pe=t(48),be=t.n(pe),fe=t(37),Se=t.n(fe),_e=t(24),Fe=t.n(_e),ge=l.a.memo((function(e){var a=e.handleDrawColor,t=e.cells,n=e.width,r=e.height,c=function(){for(var e=[],a=1,c=1;c<=r;c++){for(var o=[],s=1;s<=n;s++)o.push(a),a++;e.push(o)}return e.map((function(e,a){var n=e.map((function(e,a){return l.a.createElement("div",{key:e,className:[Fe.a.cell,a%5===0?Fe.a.borderedCell:""].join(" "),"data-cell":e,style:{backgroundColor:t[e]}})}));return l.a.createElement("div",{className:a%5===0?Fe.a.borderedRow:"",key:a},n)}))}();return l.a.createElement("div",{className:Fe.a.wrapper,onClick:a},l.a.createElement("div",{className:Fe.a.inner},c))})),Ae=t(49),Oe=t.n(Ae),Ne=function(){new Audio(Oe.a).play()},we=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(O.a)(this,t),(n=a.call(this,e)).handleDrawColor=n.handleDrawColor.bind(Object(w.a)(n)),n}return Object(N.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!e.scroll&&!this.props.scroll}},{key:"handleDrawColor",value:function(e){var a=this.props,t=a.drawColor,n=a.currentColor,l=a.eraseColor,r=e.target.closest("div[data-cell]");if(r&&n&&"#"!==n){var c=r.getAttribute("data-cell");"#FFF"===n?(Ne(),l(c)):(Ne(),t(c))}}},{key:"render",value:function(){var e=this.props,a=e.cells,t=e.width,n=e.height;return l.a.createElement(ge,{cells:a,width:t,height:n,handleDrawColor:this.handleDrawColor})}}]),t}(n.Component),je={drawColor:function(e){return function(a){a({type:"DRAW_COLOR",payload:e})}},eraseColor:function(e){return function(a){a({type:"ERASE_COLOR",payload:e})}}},ye=Object(s.c)((function(e){return{currentColor:e.schema.currentColor,cells:e.schema.cells,width:e.schema.width,height:e.schema.height}}),je)(we),ke=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(O.a)(this,t),(n=a.call(this,e)).state={scroll:!1},n.startX=null,n.startY=null,n.prevX=null,n.prevY=null,n.resetColor=!1,n.handleMouseDown=n.handleMouseDown.bind(Object(w.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(w.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(w.a)(n)),n.handleScroll=n.handleScroll.bind(Object(w.a)(n)),n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=(this.inner.scrollWidth-this.wrapper.offsetWidth)/2,a=(this.inner.scrollHeight-this.wrapper.offsetHeight)/2;this.wrapper.scroll(e,a)}},{key:"componentWillUnmount",value:function(){this.wrapper.scroll(0,0)}},{key:"handleMouseDown",value:function(e){this.startX=e.clientX,this.startY=e.clientY,document.body.addEventListener("mousemove",this.handleMouseMove,!0),document.body.addEventListener("mouseup",this.handleMouseUp,!0),this.setState({scroll:!0})}},{key:"handleMouseUp",value:function(e){this.resetColor=!1,this.setState({scroll:!1}),document.body.removeEventListener("mousemove",this.handleMouseMove,!0),document.body.removeEventListener("mouseup",this.handleMouseUp,!0),this.prevX=0,this.prevY=0,this.wrapper.style.cursor="pointer"}},{key:"handleMouseMove",value:function(e){var a=e.clientX,t=e.clientY;Math.max(Math.abs(a-this.startX),Math.abs(t-this.startY))<=2||(this.handleScroll(a,t),this.prevX=a,this.prevY=t)}},{key:"handleScroll",value:function(e,a){if(this.prevX&&this.prevY){var t=this.props.handleCheckColor;this.resetColor||t(""),this.resetColor=!0,this.wrapper.style.cursor="grabbing";var n=this.prevX-e,l=this.prevY-a;this.wrapper.scrollBy(n,l)}}},{key:"render",value:function(){var e=this,a=this.state.scroll;return l.a.createElement("div",{onMouseDown:this.handleMouseDown,onClick:this.handleClick,className:Se.a.wrapper,ref:function(a){return e.wrapper=a}},l.a.createElement("div",{className:Se.a.inner,ref:function(a){return e.inner=a}},l.a.createElement(ye,{scroll:a})))}}]),t}(n.Component),De={checkCurrentColor:q},Be=Object(s.c)(null,De)((function(e){var a=e.checkCurrentColor;return l.a.createElement(ke,{handleCheckColor:function(e){a(e)}})})),Me=t(38),Le=t.n(Me),Re=t(8),Ie=t.n(Re),xe=function(e){var a=e.colors,t=e.currentColor,n=e.handleCheckCurrentColor;return l.a.createElement("div",{className:Ie.a.wrapper},l.a.createElement("div",{className:Ie.a.colors,onClick:n},l.a.createElement("div",{className:Ie.a.line},l.a.createElement("div",{className:[Ie.a.clear,"#FFF"===t?Ie.a.active:""].join(" "),"data-color":"FFF"}),l.a.createElement("div",{style:{backgroundColor:"#"+a[0]},"data-color":a[0],className:t==="#"+a[0]?Ie.a.active:""})),l.a.createElement("div",{className:Ie.a.line},l.a.createElement("div",{style:{backgroundColor:"#"+a[1]},"data-color":a[1],className:t==="#"+a[1]?Ie.a.active:""}),l.a.createElement("div",{style:{backgroundColor:"#"+a[2]},"data-color":a[2],className:t==="#"+a[2]?Ie.a.active:""})),l.a.createElement("div",{className:Ie.a.line},l.a.createElement("div",{style:{backgroundColor:"#"+a[3]},"data-color":a[3],className:t==="#"+a[3]?Ie.a.active:""}),l.a.createElement("div",{style:{backgroundColor:"#"+a[4]},"data-color":a[4],className:t==="#"+a[4]?Ie.a.active:""})),l.a.createElement("div",{className:Ie.a.line},l.a.createElement("div",{style:{backgroundColor:"#"+a[5]},"data-color":a[5],className:t==="#"+a[5]?Ie.a.active:""}),l.a.createElement("div",{style:{backgroundColor:"#"+a[6]},"data-color":a[6],className:t==="#"+a[6]?Ie.a.active:""})),l.a.createElement("div",{className:Ie.a.line},l.a.createElement("div",{style:{backgroundColor:"#"+a[7]},"data-color":a[7],className:t==="#"+a[7]?Ie.a.active:""}),l.a.createElement("div",{style:{backgroundColor:"#"+a[8]},"data-color":a[8],className:t==="#"+a[8]?Ie.a.active:""}))))},Pe=t(50),He=t.n(Pe),Te=function(e){var a=e.children,t=e.className,n=e.onClick;return l.a.createElement("button",{onClick:n,className:[He.a.button,t||""].join(" ")},a)},Je=function(e){var a=e.handleSave,t=e.colorAssets,n=e.currentColor,r=e.handleCheckCurrentColor,c=e.handleClearState;return l.a.createElement("div",{className:Le.a.wrapper},l.a.createElement(xe,{colors:t,currentColor:n,handleCheckCurrentColor:r}),l.a.createElement("div",{className:Le.a.buttons},l.a.createElement(Te,{onClick:a},"Save"),l.a.createElement("div",null,l.a.createElement(F.a,{to:"/"},l.a.createElement(Te,{onClick:c},"Menu")))))},We={saveSchema:X,checkCurrentColor:q,clearParams:function(){return function(e){e({type:"CLEAR_PARAMS"})}}},Ye=Object(i.compose)(_.f,Object(s.c)((function(e,a){return{cells:e.schema.cells,name:e.schema.name,width:e.schema.width,height:e.schema.height,colors:e.schema.colors,currentColor:e.schema.currentColor,history:a.history}}),We))((function(e){var a=e.cells,t=e.name,n=e.width,r=e.height,c=e.colors,o=e.saveSchema,s=e.currentColor,i=e.checkCurrentColor,u=e.clearParams;return l.a.createElement(Je,{handleSave:function(){o({cells:a,name:t,width:n,height:r,colors:c})},colorAssets:c,currentColor:s,handleCheckCurrentColor:function(e){var a=e.target.closest("div[data-color]");if(a){var t=a.getAttribute("data-color");i(t)}},handleClearState:function(){u()}})})),Ue=function(){return l.a.createElement("div",{className:be.a.wrapper},l.a.createElement(Be,null),l.a.createElement(Ye,null))},Xe={loadSchema:z},ze=Object(i.compose)(_.f,Object(s.c)((function(e,a){return{name:a.match.params.name,width:e.schema.width,height:e.schema.height}}),Xe))((function(e){var a=e.loadSchema,t=e.name,r=e.width,c=e.height;return Object(n.useEffect)((function(){a(t)}),[t,a]),!!r&&!!c&&l.a.createElement(Ue,null)})),qe=function(){return l.a.createElement("div",null,l.a.createElement(_.b,{path:"/editor/:name",render:function(){return l.a.createElement(ze,null)}}),l.a.createElement(_.b,{path:"/",render:function(){return l.a.createElement(_.a,{to:"load"})},exact:!0}),l.a.createElement(_.b,{path:"/load",render:function(){return l.a.createElement(Ee,null)}}),l.a.createElement(_.b,{path:"/new",render:function(){return l.a.createElement(Ee,null)}}))},Ke=function(e){return Object(i.createStore)((a=S,Object(i.combineReducers)({router:Object(o.b)(a),schema:p,service:f})),e,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(Object(h.a)(S),m.a)));var a}();c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,{store:Ke},l.a.createElement(o.a,{history:S},l.a.createElement(qe,null)))),document.getElementById("root"))}],[[51,1,2]]]);
//# sourceMappingURL=main.70ac9b95.chunk.js.map